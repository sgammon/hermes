<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>webapp2_extras Package &mdash; Hermes v2.0 Docs</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5-alpha-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Hermes v2.0 Docs"
          href="_static/opensearch.xml"/>
    <link rel="top" title="Hermes v2.0 Docs" href="index.html" />
    <link rel="up" title="lib Package" href="lib.html" />
    <link rel="next" title="main Module" href="main.html" />
    <link rel="prev" title="slimmer Package" href="lib.slimmer.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="main Module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lib.slimmer.html" title="slimmer Package"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Hermes</a> &raquo;</li>
          <li><a href="lib.html" accesskey="U">lib Package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="webapp2-extras-package">
<h1>webapp2_extras Package<a class="headerlink" href="#webapp2-extras-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">webapp2_extras</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-lib.webapp2_extras"></span><div class="section" id="webapp2-extras">
<h3>webapp2_extras<a class="headerlink" href="#webapp2-extras" title="Permalink to this headline">¶</a></h3>
<p>Extra modules for webapp2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-lib.webapp2_extras.auth">
<span id="auth-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">auth</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.auth" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-auth">
<h3>webapp2_extras.auth<a class="headerlink" href="#webapp2-extras-auth" title="Permalink to this headline">¶</a></h3>
<p>Utilities for authentication and authorization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.auth.Auth">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">Auth</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Authentication provider for a single request.</p>
<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.get_session_data">
<tt class="descname">get_session_data</tt><big>(</big><em>pop=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.get_session_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.get_session_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the session data as a dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pop</strong> &#8211; If True, removes the session.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A deserialized session, or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.get_user_by_password">
<tt class="descname">get_user_by_password</tt><big>(</big><em>auth_id</em>, <em>password</em>, <em>remember=False</em>, <em>save_session=True</em>, <em>silent=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.get_user_by_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.get_user_by_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a user based on password credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_id</strong> &#8211; Authentication id.</li>
<li><strong>password</strong> &#8211; User password.</li>
<li><strong>remember</strong> &#8211; If True, saves permanent sessions.</li>
<li><strong>save_session</strong> &#8211; If True, saves the user in the session if authentication succeeds.</li>
<li><strong>silent</strong> &#8211; If True, raises an exception if auth_id or password are invalid.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A user dict or None.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">InvalidAuthIdError</span></tt> or <tt class="docutils literal"><span class="pre">InvalidPasswordError</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.get_user_by_session">
<tt class="descname">get_user_by_session</tt><big>(</big><em>save_session=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.get_user_by_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.get_user_by_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a user based on the current session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>save_session</strong> &#8211; If True, saves the user in the session if authentication succeeds.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A user dict or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.get_user_by_token">
<tt class="descname">get_user_by_token</tt><big>(</big><em>user_id</em>, <em>token</em>, <em>token_ts=None</em>, <em>cache=None</em>, <em>cache_ts=None</em>, <em>remember=False</em>, <em>save_session=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.get_user_by_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.get_user_by_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a user based on an authentication token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> &#8211; User id.</li>
<li><strong>token</strong> &#8211; Authentication token.</li>
<li><strong>token_ts</strong> &#8211; Token timestamp, used to perform pre-validation.</li>
<li><strong>cache</strong> &#8211; Cached user data (from the session).</li>
<li><strong>cache_ts</strong> &#8211; Cache timestamp.</li>
<li><strong>remember</strong> &#8211; If True, saves permanent sessions.</li>
<li><strong>save_session</strong> &#8211; If True, saves the user in the session if authentication succeeds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A user dict or None.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.Auth.request">
<tt class="descname">request</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.request" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.Auth.session">
<tt class="descname">session</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.session" title="Permalink to this definition">¶</a></dt>
<dd><p>Auth session.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.set_session">
<tt class="descname">set_session</tt><big>(</big><em>user</em>, <em>token=None</em>, <em>token_ts=None</em>, <em>cache_ts=None</em>, <em>remember=False</em>, <em>**session_args</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.set_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.set_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a user in the session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user</strong> &#8211; A dictionary with user data.</li>
<li><strong>token</strong> &#8211; A unique token to be persisted. If None, a new one is created.</li>
<li><strong>token_ts</strong> &#8211; Token timestamp. If None, a new one is created.</li>
<li><strong>cache_ts</strong> &#8211; Token cache timestamp. If None, a new one is created.</li>
<li><strong>session_args</strong> &#8211; Keyword arguments to set the session arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Remember :</th><td class="field-body"><p class="first last">If True, session is set to be persisted.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.set_session_data">
<tt class="descname">set_session_data</tt><big>(</big><em>data</em>, <em>**session_args</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.set_session_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.set_session_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the session data as a list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> &#8211; Deserialized session data.</li>
<li><strong>session_args</strong> &#8211; Extra arguments for the session.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.Auth.store">
<tt class="descname">store</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.store" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="#lib.webapp2_extras.auth.AuthStore" title="lib.webapp2_extras.auth.AuthStore"><tt class="xref py py-class docutils literal"><span class="pre">AuthStore</span></tt></a> instance.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.Auth.unset_session">
<tt class="descname">unset_session</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#Auth.unset_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.Auth.unset_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a user from the session and invalidates the auth token.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="lib.webapp2_extras.auth.AuthError">
<em class="property">exception </em><tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">AuthError</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Base auth exception.</p>
</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.auth.AuthStore">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">AuthStore</tt><big>(</big><em>app</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Provides common utilities and configuration for <a class="reference internal" href="#lib.webapp2_extras.auth.Auth" title="lib.webapp2_extras.auth.Auth"><tt class="xref py py-class docutils literal"><span class="pre">Auth</span></tt></a>.</p>
<dl class="attribute">
<dt id="lib.webapp2_extras.auth.AuthStore.config_key">
<tt class="descname">config_key</tt><em class="property"> = 'lib.webapp2_extras.auth'</em><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.config_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration key.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.create_auth_token">
<tt class="descname">create_auth_token</tt><big>(</big><em>user_id</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.create_auth_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.create_auth_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new authentication token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_id</strong> &#8211; Authentication id.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A new authentication token.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.delete_auth_token">
<tt class="descname">delete_auth_token</tt><big>(</big><em>user_id</em>, <em>token</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.delete_auth_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.delete_auth_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an authentication token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user_id</strong> &#8211; User id.</li>
<li><strong>token</strong> &#8211; Authentication token.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.deserialize_session">
<tt class="descname">deserialize_session</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.deserialize_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.deserialize_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes values for a session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; A list with session data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict with session data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.get_session">
<tt class="descname">get_session</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.get_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an auth session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A session dict.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.get_user_by_auth_password">
<tt class="descname">get_user_by_auth_password</tt><big>(</big><em>auth_id</em>, <em>password</em>, <em>silent=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.get_user_by_auth_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.get_user_by_auth_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a user dict based on auth_id and password.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_id</strong> &#8211; Authentication id.</li>
<li><strong>password</strong> &#8211; User password.</li>
<li><strong>silent</strong> &#8211; If True, raises an exception if auth_id or password are invalid.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dictionary with user data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">InvalidAuthIdError</span></tt> or <tt class="docutils literal"><span class="pre">InvalidPasswordError</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.get_user_by_auth_token">
<tt class="descname">get_user_by_auth_token</tt><big>(</big><em>user_id</em>, <em>token</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.get_user_by_auth_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.get_user_by_auth_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a user dict based on user_id and auth token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> &#8211; User id.</li>
<li><strong>token</strong> &#8211; Authentication token.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple <tt class="docutils literal"><span class="pre">(user_dict,</span> <span class="pre">token_timestamp)</span></tt>. Both values can be None.
The token timestamp will be None if the user is invalid or it
is valid but the token requires renewal.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.serialize_session">
<tt class="descname">serialize_session</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.serialize_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.serialize_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes values for a session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; A dict with session data.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list with session data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.AuthStore.session_attributes">
<tt class="descname">session_attributes</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.session_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.session_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of attributes stored in a session.</p>
<p>This must be an ordered list of unique elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.AuthStore.user_attributes">
<tt class="descname">user_attributes</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.user_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.user_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of attributes retrieved from the user model.</p>
<p>This must be an ordered list of unique elements.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.auth.AuthStore.user_model">
<tt class="descname">user_model</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.user_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.user_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Configured user model.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.user_to_dict">
<tt class="descname">user_to_dict</tt><big>(</big><em>user</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.user_to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.user_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary based on a user object.</p>
<p>Extra attributes to be retrieved must be set in this module&#8217;s
configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user</strong> &#8211; User object: an instance the custom user model.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with user data.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.validate_cache_timestamp">
<tt class="descname">validate_cache_timestamp</tt><big>(</big><em>cache_ts</em>, <em>token_ts=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.validate_cache_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.validate_cache_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a cache timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cache_ts</strong> &#8211; Token timestamp to validate the cache age.</li>
<li><strong>token_ts</strong> &#8211; Token timestamp to validate the token age.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if it is valid, False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.validate_password">
<tt class="descname">validate_password</tt><big>(</big><em>auth_id</em>, <em>password</em>, <em>silent=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.validate_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.validate_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a password.</p>
<p>Passwords are used to log-in using forms or to request auth tokens
from services.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>auth_id</strong> &#8211; Authentication id.</li>
<li><strong>password</strong> &#8211; Password to be checked.</li>
<li><strong>silent</strong> &#8211; If True, raises an exception if auth_id or password are invalid.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">user or None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="docutils literal"><span class="pre">InvalidAuthIdError</span></tt> or <tt class="docutils literal"><span class="pre">InvalidPasswordError</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.auth.AuthStore.validate_token">
<tt class="descname">validate_token</tt><big>(</big><em>user_id</em>, <em>token</em>, <em>token_ts=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#AuthStore.validate_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.AuthStore.validate_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates a token.</p>
<p>Tokens are random strings used to authenticate temporarily. They are
used to validate sessions or service requests.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> &#8211; User id.</li>
<li><strong>token</strong> &#8211; Token to be checked.</li>
<li><strong>token_ts</strong> &#8211; Optional token timestamp used to pre-validate the token age.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A tuple <tt class="docutils literal"><span class="pre">(user_dict,</span> <span class="pre">token)</span></tt>.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="lib.webapp2_extras.auth.InvalidAuthIdError">
<em class="property">exception </em><tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">InvalidAuthIdError</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#InvalidAuthIdError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.InvalidAuthIdError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.auth.AuthError" title="lib.webapp2_extras.auth.AuthError"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.auth.AuthError</span></tt></a></p>
<p>Raised when a user can&#8217;t be fetched given an auth_id.</p>
</dd></dl>

<dl class="exception">
<dt id="lib.webapp2_extras.auth.InvalidPasswordError">
<em class="property">exception </em><tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">InvalidPasswordError</tt><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#InvalidPasswordError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.InvalidPasswordError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.auth.AuthError" title="lib.webapp2_extras.auth.AuthError"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.auth.AuthError</span></tt></a></p>
<p>Raised when a user password doesn&#8217;t match.</p>
</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.auth.default_config">
<tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">default_config</tt><em class="property"> = {'user_model': 'webapp2_extras.appengine.auth.models.User', 'token_new_age': 86400, 'cookie_name': 'auth', 'token_max_age': 1814400, 'token_cache_age': 3600, 'user_attributes': [], 'session_backend': 'securecookie'}</em><a class="headerlink" href="#lib.webapp2_extras.auth.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default configuration values for this module. Keys are:</p>
<dl class="docutils">
<dt>user_model</dt>
<dd>User model which authenticates custom users and tokens.
Can also be a string in dotted notation to be lazily imported.
Default is <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2_extras/appengine/auth/models.html#webapp2_extras.appengine.auth.models.User" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2_extras.appengine.auth.models.User</span></tt></a>.</dd>
<dt>session_backend</dt>
<dd>Name of the session backend to be used. Default is <cite>securecookie</cite>.</dd>
<dt>cookie_name</dt>
<dd>Name of the cookie to save the auth session. Default is <cite>auth</cite>.</dd>
<dt>token_max_age</dt>
<dd>Number of seconds of inactivity after which an auth token is
invalidated. The same value is used to set the <tt class="docutils literal"><span class="pre">max_age</span></tt> for
persistent auth sessions. Default is 86400 * 7 * 3 (3 weeks).</dd>
<dt>token_new_age</dt>
<dd>Number of seconds after which a new token is created and written to
the database, and the old one is invalidated.
Use this to limit database writes; set to None to write on all requests.
Default is 86400 (1 day).</dd>
<dt>token_cache_age</dt>
<dd>Number of seconds after which a token must be checked in the database.
Use this to limit database reads; set to None to read on all requests.
Default is 3600 (1 hour).</dd>
<dt>user_attributes</dt>
<dd>A list of extra user attributes to be stored in the session.
Default is an empty list.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.auth.get_auth">
<tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">get_auth</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.auth.Auth'&gt;</em>, <em>key='webapp2_extras.auth.Auth'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#get_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.get_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.auth.Auth" title="lib.webapp2_extras.auth.Auth"><tt class="xref py py-class docutils literal"><span class="pre">Auth</span></tt></a> from the request registry.</p>
<p>It&#8217;ll try to get it from the current request registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.auth.Auth" title="lib.webapp2_extras.auth.Auth"><tt class="xref py py-class docutils literal"><span class="pre">Auth</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to store the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.auth.get_store">
<tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">get_store</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.auth.AuthStore'&gt;</em>, <em>key='webapp2_extras.auth.Auth'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#get_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.get_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.auth.AuthStore" title="lib.webapp2_extras.auth.AuthStore"><tt class="xref py py-class docutils literal"><span class="pre">AuthStore</span></tt></a> from the app registry.</p>
<p>It&#8217;ll try to get it from the current app registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.auth.AuthStore" title="lib.webapp2_extras.auth.AuthStore"><tt class="xref py py-class docutils literal"><span class="pre">AuthStore</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>app</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to store the instance.
The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.auth.set_auth">
<tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">set_auth</tt><big>(</big><em>auth</em>, <em>key='webapp2_extras.auth.Auth'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#set_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.set_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.auth.Auth" title="lib.webapp2_extras.auth.Auth"><tt class="xref py py-class docutils literal"><span class="pre">Auth</span></tt></a> in the request registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>auth</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.auth.Auth" title="lib.webapp2_extras.auth.Auth"><tt class="xref py py-class docutils literal"><span class="pre">Auth</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to retrieve the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.auth.set_store">
<tt class="descclassname">lib.webapp2_extras.auth.</tt><tt class="descname">set_store</tt><big>(</big><em>store</em>, <em>key='webapp2_extras.auth.Auth'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/auth.html#set_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.auth.set_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.auth.AuthStore" title="lib.webapp2_extras.auth.AuthStore"><tt class="xref py py-class docutils literal"><span class="pre">AuthStore</span></tt></a> in the app registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.auth.AuthStore" title="lib.webapp2_extras.auth.AuthStore"><tt class="xref py py-class docutils literal"><span class="pre">AuthStore</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to retrieve the
instance. The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.config">
<span id="config-module"></span><h2><a class="reference internal" href="config.html#module-config" title="config"><tt class="xref py py-mod docutils literal"><span class="pre">config</span></tt></a> Module<a class="headerlink" href="#module-lib.webapp2_extras.config" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-config">
<h3>webapp2_extras.config<a class="headerlink" href="#webapp2-extras-config" title="Permalink to this headline">¶</a></h3>
<p>Configuration object for webapp2.</p>
<p>This module is deprecated. See <tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication.config</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.config.Config">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.config.</tt><tt class="descname">Config</tt><big>(</big><em>values=None</em>, <em>defaults=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>A simple configuration dictionary keyed by module name. This is a
dictionary of dictionaries. It requires all values to be dictionaries
and applies updates and default values to the inner dictionaries instead
of the first level one.</p>
<p>The configuration object can be set as a <tt class="docutils literal"><span class="pre">config</span></tt> attribute of
<tt class="xref py py-class docutils literal"><span class="pre">WSGIApplication</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">webapp2</span>
<span class="kn">from</span> <span class="nn">webapp2_extras</span> <span class="kn">import</span> <span class="n">config</span> <span class="k">as</span> <span class="n">webapp2_config</span>

<span class="n">my_config</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">my_config</span><span class="p">[</span><span class="s">&#39;my.module&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;foo&#39;</span><span class="p">:</span> <span class="s">&#39;bar&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">webapp2</span><span class="o">.</span><span class="n">WSGIApplication</span><span class="p">(</span><span class="n">routes</span><span class="o">=</span><span class="p">[</span>
    <span class="n">webapp2</span><span class="o">.</span><span class="n">Route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;home&#39;</span><span class="p">,</span> <span class="n">handler</span><span class="o">=</span><span class="n">MyHandler</span><span class="p">)</span>
<span class="p">])</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">webapp2_config</span><span class="o">.</span><span class="n">Config</span><span class="p">(</span><span class="n">my_config</span><span class="p">)</span>
</pre></div>
</div>
<p>Then to read configuration values, get them from the app:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">foo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s">&#39;my.module&#39;</span><span class="p">][</span><span class="s">&#39;foo&#39;</span><span class="p">]</span>

        <span class="c"># ...</span>
</pre></div>
</div>
<dl class="method">
<dt id="lib.webapp2_extras.config.Config.get">
<tt class="descname">get</tt><big>(</big><em>module</em>, <em>default=&lt;object object at 0x10fc07530&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#Config.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.Config.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a configuration for a module. If default is not provided,
returns an empty dict if the module is not configured.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module</strong> &#8211; The module name.</td>
</tr>
<tr class="field-even field"><th class="field-name">Params default:</th><td class="field-body">Default value to return if the module is not configured. If not
set, returns an empty dict.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A module configuration.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.config.Config.get_config">
<tt class="descname">get_config</tt><big>(</big><em>module</em>, <em>key=None</em>, <em>default=&lt;object object at 0x10fc072c0&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#Config.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.Config.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a configuration value for a module and optionally a key.
Will raise a KeyError if they the module is not configured or the key
doesn&#8217;t exist and a default is not provided.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> &#8211; The module name.</li>
<li><strong>default</strong> &#8211; Default value to return if the key doesn&#8217;t exist.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Params key:</th><td class="field-body"><p class="first">The configuration key.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A module configuration.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.config.Config.loaded">
<tt class="descname">loaded</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.config.Config.loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Loaded module configurations.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.config.Config.setdefault">
<tt class="descname">setdefault</tt><big>(</big><em>module</em>, <em>values</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#Config.setdefault"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.Config.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a default configuration dictionary for a module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> &#8211; The module to set default configuration, e.g.: <cite>webapp2.ext.i18n</cite>.</li>
<li><strong>values</strong> &#8211; A dictionary of configurations for the module.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The module configuration dictionary.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.config.Config.update">
<tt class="descname">update</tt><big>(</big><em>module</em>, <em>values</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#Config.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.Config.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the configuration dictionary for a module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module</strong> &#8211; The module to update the configuration, e.g.: <cite>webapp2.ext.i18n</cite>.</li>
<li><strong>values</strong> &#8211; A dictionary of configurations for the module.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.config.DEFAULT_VALUE">
<tt class="descclassname">lib.webapp2_extras.config.</tt><tt class="descname">DEFAULT_VALUE</tt><em class="property"> = &lt;object object at 0x10fc07530&gt;</em><a class="headerlink" href="#lib.webapp2_extras.config.DEFAULT_VALUE" title="Permalink to this definition">¶</a></dt>
<dd><p>Value used for missing default values.</p>
</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.config.REQUIRED_VALUE">
<tt class="descclassname">lib.webapp2_extras.config.</tt><tt class="descname">REQUIRED_VALUE</tt><em class="property"> = &lt;object object at 0x10fc072c0&gt;</em><a class="headerlink" href="#lib.webapp2_extras.config.REQUIRED_VALUE" title="Permalink to this definition">¶</a></dt>
<dd><p>Value used for required values.</p>
</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.config.SubConfig">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.config.</tt><tt class="descname">SubConfig</tt><big>(</big><em>module</em>, <em>values=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#SubConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.SubConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<dl class="method">
<dt id="lib.webapp2_extras.config.SubConfig.get">
<tt class="descname">get</tt><big>(</big><em>key</em>, <em>default=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/config.html#SubConfig.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.config.SubConfig.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.i18n">
<span id="i18n-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">i18n</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.i18n" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-i18n">
<h3>webapp2_extras.i18n<a class="headerlink" href="#webapp2-extras-i18n" title="Permalink to this headline">¶</a></h3>
<p>Internationalization support for webapp2.</p>
<p>Several ideas borrowed from tipfy.i18n and Flask-Babel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.i18n.I18n">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">I18n</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Internalization provider for a single request.</p>
<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_currency">
<tt class="descname">format_currency</tt><big>(</big><em>number</em>, <em>currency</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_currency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_currency" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted currency value. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s">&#39;USD&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;$1,099.98&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s">&#39;USD&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;es_CO&#39;</span><span class="p">)</span>
<span class="go">u&#39;US$\xa01.099,98&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s">&#39;EUR&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;1.099,98\xa0\u20ac&#39;</span>
</pre></div>
</div>
<p>The pattern can also be specified explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_currency</span><span class="p">(</span><span class="mf">1099.98</span><span class="p">,</span> <span class="s">&#39;EUR&#39;</span><span class="p">,</span> <span class="s">u&#39;</span><span class="se">\xa4\xa4</span><span class="s"> #,##0.00&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;EUR 1,099.98&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number</strong> &#8211; The number to format.</li>
<li><strong>currency</strong> &#8211; The currency code.</li>
<li><strong>format</strong> &#8211; Notation format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The formatted currency value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_date">
<tt class="descname">format_date</tt><big>(</big><em>date=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a date formatted according to the given pattern and
following the current locale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> &#8211; A <tt class="docutils literal"><span class="pre">date</span></tt> or <tt class="docutils literal"><span class="pre">datetime</span></tt> object. If None, the current date in
UTC is used.</li>
<li><strong>format</strong> &#8211; <p>The format to be returned. Valid values are &#8220;short&#8221;, &#8220;medium&#8221;,
&#8220;long&#8221;, &#8220;full&#8221; or a custom date/time pattern. Example outputs:</p>
<ul>
<li>short:  11/10/09</li>
<li>medium: Nov 10, 2009</li>
<li>long:   November 10, 2009</li>
<li>full:   Tuesday, November 10, 2009</li>
</ul>
</li>
<li><strong>rebase</strong> &#8211; If True, converts the date to the current <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.timezone" title="lib.webapp2_extras.i18n.I18n.timezone"><tt class="xref py py-attr docutils literal"><span class="pre">timezone</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A formatted date in unicode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_datetime">
<tt class="descname">format_datetime</tt><big>(</big><em>datetime=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a date and time formatted according to the given pattern
and following the current locale and timezone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datetime</strong> &#8211; A <tt class="docutils literal"><span class="pre">datetime</span></tt> object. If None, the current date and time in UTC
is used.</li>
<li><strong>format</strong> &#8211; <p>The format to be returned. Valid values are &#8220;short&#8221;, &#8220;medium&#8221;,
&#8220;long&#8221;, &#8220;full&#8221; or a custom date/time pattern. Example outputs:</p>
<ul>
<li>short:  11/10/09 4:36 PM</li>
<li>medium: Nov 10, 2009 4:36:05 PM</li>
<li>long:   November 10, 2009 4:36:05 PM +0000</li>
<li>full:   Tuesday, November 10, 2009 4:36:05 PM World (GMT) Time</li>
</ul>
</li>
<li><strong>rebase</strong> &#8211; If True, converts the datetime to the current <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.timezone" title="lib.webapp2_extras.i18n.I18n.timezone"><tt class="xref py py-attr docutils literal"><span class="pre">timezone</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A formatted date and time in unicode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_decimal">
<tt class="descname">format_decimal</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_decimal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given decimal number formatted for the current locale.
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">1.2345</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1.234&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">1.2346</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1.235&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="o">-</span><span class="mf">1.2346</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;-1.235&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">1.2345</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;sv_SE&#39;</span><span class="p">)</span>
<span class="go">u&#39;1,234&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mi">12345</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de&#39;</span><span class="p">)</span>
<span class="go">u&#39;12.345&#39;</span>
</pre></div>
</div>
<p>The appropriate thousands grouping and the decimal separator are used
for each locale:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_decimal</span><span class="p">(</span><span class="mf">12345.5</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;12,345.5&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number</strong> &#8211; The number to format.</li>
<li><strong>format</strong> &#8211; Notation format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The formatted decimal number.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_number">
<tt class="descname">format_number</tt><big>(</big><em>number</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given number formatted for the current locale. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_number</span><span class="p">(</span><span class="mi">1099</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1,099&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>number</strong> &#8211; The number to format.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The formatted number.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_percent">
<tt class="descname">format_percent</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_percent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns formatted percent value for the current locale. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">0.34</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;34%&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">25.1234</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;2,512%&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">25.1234</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;sv_SE&#39;</span><span class="p">)</span>
<span class="go">u&#39;2\xa0512\xa0%&#39;</span>
</pre></div>
</div>
<p>The format pattern can also be specified explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_percent</span><span class="p">(</span><span class="mf">25.1234</span><span class="p">,</span> <span class="s">u&#39;#,##0</span><span class="se">\u2030</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;25,123\u2030&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number</strong> &#8211; The percent number to format</li>
<li><strong>format</strong> &#8211; Notation format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The formatted percent number.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_scientific">
<tt class="descname">format_scientific</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_scientific"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_scientific" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns value formatted in scientific notation for the current
locale. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_scientific</span><span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1E4&#39;</span>
</pre></div>
</div>
<p>The format pattern can also be specified explicitly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">format_scientific</span><span class="p">(</span><span class="mi">1234567</span><span class="p">,</span> <span class="s">u&#39;##0E00&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1.23E06&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number</strong> &#8211; The number to format.</li>
<li><strong>format</strong> &#8211; Notation format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value formatted in scientific notation.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_time">
<tt class="descname">format_time</tt><big>(</big><em>time=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a time formatted according to the given pattern and
following the current locale and timezone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>time</strong> &#8211; A <tt class="docutils literal"><span class="pre">time</span></tt> or <tt class="docutils literal"><span class="pre">datetime</span></tt> object. If None, the current
time in UTC is used.</li>
<li><strong>format</strong> &#8211; <p>The format to be returned. Valid values are &#8220;short&#8221;, &#8220;medium&#8221;,
&#8220;long&#8221;, &#8220;full&#8221; or a custom date/time pattern. Example outputs:</p>
<ul>
<li>short:  4:36 PM</li>
<li>medium: 4:36:05 PM</li>
<li>long:   4:36:05 PM +0000</li>
<li>full:   4:36:05 PM World (GMT) Time</li>
</ul>
</li>
<li><strong>rebase</strong> &#8211; If True, converts the time to the current <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.timezone" title="lib.webapp2_extras.i18n.I18n.timezone"><tt class="xref py py-attr docutils literal"><span class="pre">timezone</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A formatted time in unicode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.format_timedelta">
<tt class="descname">format_timedelta</tt><big>(</big><em>datetime_or_timedelta</em>, <em>granularity='second'</em>, <em>threshold=0.85</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.format_timedelta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.format_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats the elapsed time from the given date to now or the given
timedelta. This currently requires an unreleased development version
of Babel.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>datetime_or_timedelta</strong> &#8211; A <tt class="docutils literal"><span class="pre">timedelta</span></tt> object representing the time difference to format,
or a <tt class="docutils literal"><span class="pre">datetime</span></tt> object in UTC.</li>
<li><strong>granularity</strong> &#8211; Determines the smallest unit that should be displayed, the value
can be one of &#8220;year&#8221;, &#8220;month&#8221;, &#8220;week&#8221;, &#8220;day&#8221;, &#8220;hour&#8221;, &#8220;minute&#8221; or
&#8220;second&#8221;.</li>
<li><strong>threshold</strong> &#8211; Factor that determines at which point the presentation switches to
the next higher unit.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A string with the elapsed time.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.get_timezone_location">
<tt class="descname">get_timezone_location</tt><big>(</big><em>dt_or_tzinfo</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.get_timezone_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.get_timezone_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a representation of the given timezone using &#8220;location
format&#8221;.</p>
<p>The result depends on both the local display name of the country and
the city assocaited with the time zone:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pytz</span> <span class="kn">import</span> <span class="n">timezone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="s">&#39;America/St_Johns&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&quot;Kanada (St. John&#39;s)&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="s">&#39;America/Mexico_City&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Mexiko (Mexiko-Stadt)&#39;</span>
</pre></div>
</div>
<p>If the timezone is associated with a country that uses only a single
timezone, just the localized country name is returned:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="s">&#39;Europe/Berlin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Deutschland&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt_or_tzinfo</strong> &#8211; The <tt class="docutils literal"><span class="pre">datetime</span></tt> or <tt class="docutils literal"><span class="pre">tzinfo</span></tt> object that determines
the timezone; if None, the current date and time in UTC is assumed.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The localized timezone name using location format.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.gettext">
<tt class="descname">gettext</tt><big>(</big><em>string</em>, <em>**variables</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.gettext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.gettext" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates a given string according to the current locale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> &#8211; The string to be translated.</li>
<li><strong>variables</strong> &#8211; Variables to format the returned string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The translated string.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18n.locale">
<tt class="descname">locale</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.locale" title="Permalink to this definition">¶</a></dt>
<dd><p>The current locale code.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.ngettext">
<tt class="descname">ngettext</tt><big>(</big><em>singular</em>, <em>plural</em>, <em>n</em>, <em>**variables</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.ngettext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.ngettext" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates a possible pluralized string according to the current
locale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>singular</strong> &#8211; The singular for of the string to be translated.</li>
<li><strong>plural</strong> &#8211; The plural for of the string to be translated.</li>
<li><strong>n</strong> &#8211; An integer indicating if this is a singular or plural. If greater
than 1, it is a plural.</li>
<li><strong>variables</strong> &#8211; Variables to format the returned string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The translated string.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.parse_date">
<tt class="descname">parse_date</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.parse_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.parse_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a date from a string.</p>
<p>This function uses the date format for the locale as a hint to
determine the order in which the date fields appear in the string.
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_date</span><span class="p">(</span><span class="s">&#39;4/1/04&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">datetime.date(2004, 4, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_date</span><span class="p">(</span><span class="s">&#39;01.04.2004&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">datetime.date(2004, 4, 1)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; The string containing the date.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed date object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.parse_datetime">
<tt class="descname">parse_datetime</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.parse_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.parse_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a date and time from a string.</p>
<p>This function uses the date and time formats for the locale as a hint
to determine the order in which the time fields appear in the string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; The string containing the date and time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed datetime object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.parse_decimal">
<tt class="descname">parse_decimal</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.parse_decimal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.parse_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses localized decimal string into a float. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_decimal</span><span class="p">(</span><span class="s">&#39;1,099.98&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">1099.98</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_decimal</span><span class="p">(</span><span class="s">&#39;1.099,98&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de&#39;</span><span class="p">)</span>
<span class="go">1099.98</span>
</pre></div>
</div>
<p>When the given string cannot be parsed, an exception is raised:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_decimal</span><span class="p">(</span><span class="s">&#39;2,109,998&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
   <span class="c">...</span>
<span class="gr">NumberFormatError</span>: <span class="n">&#39;2,109,998&#39; is not a valid decimal number</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; The string to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed decimal number.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><tt class="docutils literal"><span class="pre">NumberFormatError</span></tt> if the string can not be converted to a
decimal number.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.parse_number">
<tt class="descname">parse_number</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.parse_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.parse_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses localized number string into a long integer. Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_number</span><span class="p">(</span><span class="s">&#39;1,099&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">1099L</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_number</span><span class="p">(</span><span class="s">&#39;1.099&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">1099L</span>
</pre></div>
</div>
<p>When the given string cannot be parsed, an exception is raised:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_number</span><span class="p">(</span><span class="s">&#39;1.099,98&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;de&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
   <span class="c">...</span>
<span class="gr">NumberFormatError</span>: <span class="n">&#39;1.099,98&#39; is not a valid number</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; The string to parse.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed number.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><tt class="docutils literal"><span class="pre">NumberFormatError</span></tt> if the string can not be converted to a
number.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.parse_time">
<tt class="descname">parse_time</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.parse_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.parse_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a time from a string.</p>
<p>This function uses the time format for the locale as a hint to
determine the order in which the time fields appear in the string.
Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_time</span><span class="p">(</span><span class="s">&#39;15:30:00&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">datetime.time(15, 30)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string</strong> &#8211; The string containing the time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The parsed time object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.set_locale">
<tt class="descname">set_locale</tt><big>(</big><em>locale</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.set_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.set_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the locale code for this request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>locale</strong> &#8211; A locale code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.set_timezone">
<tt class="descname">set_timezone</tt><big>(</big><em>timezone</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.set_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.set_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the timezone code for this request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timezone</strong> &#8211; A timezone code.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18n.store">
<tt class="descname">store</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.store" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to <a class="reference internal" href="#lib.webapp2_extras.i18n.I18nStore" title="lib.webapp2_extras.i18n.I18nStore"><tt class="xref py py-class docutils literal"><span class="pre">I18nStore</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18n.timezone">
<tt class="descname">timezone</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>The current timezone code.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.to_local_timezone">
<tt class="descname">to_local_timezone</tt><big>(</big><em>datetime</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.to_local_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.to_local_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a datetime object converted to the local timezone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datetime</strong> &#8211; A <tt class="docutils literal"><span class="pre">datetime</span></tt> object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">datetime</span></tt> object normalized to a timezone.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18n.to_utc">
<tt class="descname">to_utc</tt><big>(</big><em>datetime</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18n.to_utc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a datetime object converted to UTC and without tzinfo.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>datetime</strong> &#8211; A <tt class="docutils literal"><span class="pre">datetime</span></tt> object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A naive <tt class="docutils literal"><span class="pre">datetime</span></tt> object (no timezone), converted to UTC.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18n.translations">
<tt class="descname">translations</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.translations" title="Permalink to this definition">¶</a></dt>
<dd><p>The current translations.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18n.tzinfo">
<tt class="descname">tzinfo</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18n.tzinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>The current tzinfo object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.i18n.I18nStore">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">I18nStore</tt><big>(</big><em>app</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Internalization store.</p>
<p>Caches loaded translations and configuration to be used between requests.</p>
<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.config_key">
<tt class="descname">config_key</tt><em class="property"> = 'lib.webapp2_extras.i18n'</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.config_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration key.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.date_formats">
<tt class="descname">date_formats</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.date_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of default date formats.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.default_locale">
<tt class="descname">default_locale</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.default_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Default locale code.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.default_locale_selector">
<tt class="descname">default_locale_selector</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.default_locale_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.default_locale_selector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.default_timezone">
<tt class="descname">default_timezone</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.default_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>Default timezone code.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.default_timezone_selector">
<tt class="descname">default_timezone_selector</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.default_timezone_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.default_timezone_selector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.domains">
<tt class="descname">domains</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Translation domains to merge.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.get_translations">
<tt class="descname">get_translations</tt><big>(</big><em>locale</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.get_translations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.get_translations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a translation catalog for a locale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>locale</strong> &#8211; A locale code.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A <tt class="docutils literal"><span class="pre">babel.support.Translations</span></tt> instance, or
<tt class="docutils literal"><span class="pre">gettext.NullTranslations</span></tt> if none was found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.load_translations">
<tt class="descname">load_translations</tt><big>(</big><em>dirname</em>, <em>locales</em>, <em>domains</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.load_translations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.load_translations" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a translation catalog.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirname</strong> &#8211; Path to where translations are stored.</li>
<li><strong>locales</strong> &#8211; A list of locale codes.</li>
<li><strong>domains</strong> &#8211; A list of domains to be merged.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <tt class="docutils literal"><span class="pre">babel.support.Translations</span></tt> instance, or
<tt class="docutils literal"><span class="pre">gettext.NullTranslations</span></tt> if none was found.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.locale_selector">
<tt class="descname">locale_selector</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.locale_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable that returns the locale for a request.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.set_locale_selector">
<tt class="descname">set_locale_selector</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.set_locale_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.set_locale_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the function that defines the locale for a request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; A callable that receives (store, request) and returns the locale
for a request.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.i18n.I18nStore.set_timezone_selector">
<tt class="descname">set_timezone_selector</tt><big>(</big><em>func</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#I18nStore.set_timezone_selector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.set_timezone_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the function that defines the timezone for a request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> &#8211; A callable that receives (store, request) and returns the timezone
for a request.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.timezone_selector">
<tt class="descname">timezone_selector</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.timezone_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable that returns the timezone for a request.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.translations">
<tt class="descname">translations</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.translations" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with all loaded translations.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.i18n.I18nStore.translations_path">
<tt class="descname">translations_path</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.i18n.I18nStore.translations_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to where traslations are stored.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.i18n.default_config">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">default_config</tt><em class="property"> = {'date_formats': {'datetime.iso': &quot;yyyy'-'MM'-'dd'T'HH':'mm':'ssZ&quot;, 'time.iso': &quot;HH':'mm':'ss&quot;, 'date.full': None, 'datetime.short': None, 'date.long': None, 'time.medium': None, 'date.medium': None, 'time.full': None, 'datetime': 'medium', 'datetime.medium': None, 'time.long': None, 'date.short': None, 'date.iso': &quot;yyyy'-'MM'-'dd&quot;, 'time': 'medium', 'date': 'medium', 'datetime.long': None, 'time.short': None, 'datetime.full': None}, 'default_locale': 'en_US', 'translations_path': 'locale', 'default_timezone': 'UTC', 'domains': ['messages'], 'timezone_selector': None, 'locale_selector': None}</em><a class="headerlink" href="#lib.webapp2_extras.i18n.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default configuration values for this module. Keys are:</p>
<dl class="docutils">
<dt>translations_path</dt>
<dd>Path to the translations directory. Default is <cite>locale</cite>.</dd>
<dt>domains</dt>
<dd>List of gettext domains to be used. Default is <tt class="docutils literal"><span class="pre">['messages']</span></tt>.</dd>
<dt>default_locale</dt>
<dd>A locale code to be used as fallback. Default is <tt class="docutils literal"><span class="pre">'en_US'</span></tt>.</dd>
<dt>default_timezone</dt>
<dd>The application default timezone according to the Olson
database. Default is <tt class="docutils literal"><span class="pre">'UTC'</span></tt>.</dd>
<dt>locale_selector</dt>
<dd>A function that receives (store, request) and returns a locale
to be used for a request. If not defined, uses <cite>default_locale</cite>.
Can also be a string in dotted notation to be imported.</dd>
<dt>timezone_selector</dt>
<dd>A function that receives (store, request) and returns a timezone
to be used for a request. If not defined, uses <cite>default_timezone</cite>.
Can also be a string in dotted notation to be imported.</dd>
<dt>date_formats</dt>
<dd>Default date formats for datetime, date and time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_currency">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_currency</tt><big>(</big><em>number</em>, <em>currency</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_currency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_currency" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_currency" title="lib.webapp2_extras.i18n.I18n.format_currency"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_currency()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_date">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_date</tt><big>(</big><em>date=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_date" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_date" title="lib.webapp2_extras.i18n.I18n.format_date"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_date()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_datetime">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_datetime</tt><big>(</big><em>datetime=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_datetime" title="lib.webapp2_extras.i18n.I18n.format_datetime"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_datetime()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_decimal">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_decimal</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_decimal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_decimal" title="lib.webapp2_extras.i18n.I18n.format_decimal"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_decimal()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_number">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_number</tt><big>(</big><em>number</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_number" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_number" title="lib.webapp2_extras.i18n.I18n.format_number"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_number()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_percent">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_percent</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_percent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_percent" title="lib.webapp2_extras.i18n.I18n.format_percent"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_percent()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_scientific">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_scientific</tt><big>(</big><em>number</em>, <em>format=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_scientific"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_scientific" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_scientific" title="lib.webapp2_extras.i18n.I18n.format_scientific"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_scientific()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_time">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_time</tt><big>(</big><em>time=None</em>, <em>format=None</em>, <em>rebase=True</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_time" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_time" title="lib.webapp2_extras.i18n.I18n.format_time"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_time()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.format_timedelta">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">format_timedelta</tt><big>(</big><em>datetime_or_timedelta</em>, <em>granularity='second'</em>, <em>threshold=0.85</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#format_timedelta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.format_timedelta" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.format_timedelta" title="lib.webapp2_extras.i18n.I18n.format_timedelta"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.format_timedelta()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.get_i18n">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">get_i18n</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.i18n.I18n'&gt;</em>, <em>key='webapp2_extras.i18n.I18n'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#get_i18n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.get_i18n" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n" title="lib.webapp2_extras.i18n.I18n"><tt class="xref py py-class docutils literal"><span class="pre">I18n</span></tt></a> from the request registry.</p>
<p>It&#8217;ll try to get it from the current request registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n" title="lib.webapp2_extras.i18n.I18n"><tt class="xref py py-class docutils literal"><span class="pre">I18n</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to store the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.get_store">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">get_store</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.i18n.I18nStore'&gt;</em>, <em>key='webapp2_extras.i18n.I18nStore'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#get_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.get_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18nStore" title="lib.webapp2_extras.i18n.I18nStore"><tt class="xref py py-class docutils literal"><span class="pre">I18nStore</span></tt></a> from the app registry.</p>
<p>It&#8217;ll try to get it from the current app registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.i18n.I18nStore" title="lib.webapp2_extras.i18n.I18nStore"><tt class="xref py py-class docutils literal"><span class="pre">I18nStore</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>app</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to store the instance.
The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.get_timezone_location">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">get_timezone_location</tt><big>(</big><em>dt_or_tzinfo</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#get_timezone_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.get_timezone_location" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.get_timezone_location" title="lib.webapp2_extras.i18n.I18n.get_timezone_location"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.get_timezone_location()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.gettext">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">gettext</tt><big>(</big><em>string</em>, <em>**variables</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#gettext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.gettext" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.gettext" title="lib.webapp2_extras.i18n.I18n.gettext"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.gettext()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.lazy_gettext">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">lazy_gettext</tt><big>(</big><em>string</em>, <em>**variables</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#lazy_gettext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.lazy_gettext" title="Permalink to this definition">¶</a></dt>
<dd><p>A lazy version of <a class="reference internal" href="#lib.webapp2_extras.i18n.gettext" title="lib.webapp2_extras.i18n.gettext"><tt class="xref py py-func docutils literal"><span class="pre">gettext()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> &#8211; The string to be translated.</li>
<li><strong>variables</strong> &#8211; Variables to format the returned string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <tt class="docutils literal"><span class="pre">babel.support.LazyProxy</span></tt> object that when accessed translates
the string.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.ngettext">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">ngettext</tt><big>(</big><em>singular</em>, <em>plural</em>, <em>n</em>, <em>**variables</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#ngettext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.ngettext" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.ngettext" title="lib.webapp2_extras.i18n.I18n.ngettext"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.ngettext()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.parse_date">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">parse_date</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#parse_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.parse_date" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.parse_date" title="lib.webapp2_extras.i18n.I18n.parse_date"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.parse_date()</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.parse_datetime">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">parse_datetime</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#parse_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.parse_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.parse_datetime" title="lib.webapp2_extras.i18n.I18n.parse_datetime"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.parse_datetime()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.parse_decimal">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">parse_decimal</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#parse_decimal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.parse_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.parse_decimal" title="lib.webapp2_extras.i18n.I18n.parse_decimal"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.parse_decimal()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.parse_number">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">parse_number</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#parse_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.parse_number" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.parse_number" title="lib.webapp2_extras.i18n.I18n.parse_number"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.parse_number()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.parse_time">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">parse_time</tt><big>(</big><em>string</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#parse_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.parse_time" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.parse_time" title="lib.webapp2_extras.i18n.I18n.parse_time"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.parse_time()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.set_i18n">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">set_i18n</tt><big>(</big><em>i18n</em>, <em>key='webapp2_extras.i18n.I18n'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#set_i18n"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.set_i18n" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n" title="lib.webapp2_extras.i18n.I18n"><tt class="xref py py-class docutils literal"><span class="pre">I18n</span></tt></a> in the request registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n" title="lib.webapp2_extras.i18n.I18n"><tt class="xref py py-class docutils literal"><span class="pre">I18n</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to retrieve the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.set_store">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">set_store</tt><big>(</big><em>store</em>, <em>key='webapp2_extras.i18n.I18nStore'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#set_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.set_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18nStore" title="lib.webapp2_extras.i18n.I18nStore"><tt class="xref py py-class docutils literal"><span class="pre">I18nStore</span></tt></a> in the app registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.i18n.I18nStore" title="lib.webapp2_extras.i18n.I18nStore"><tt class="xref py py-class docutils literal"><span class="pre">I18nStore</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to retrieve the
instance. The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.to_local_timezone">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">to_local_timezone</tt><big>(</big><em>datetime</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#to_local_timezone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.to_local_timezone" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.to_local_timezone" title="lib.webapp2_extras.i18n.I18n.to_local_timezone"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.to_local_timezone()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.i18n.to_utc">
<tt class="descclassname">lib.webapp2_extras.i18n.</tt><tt class="descname">to_utc</tt><big>(</big><em>datetime</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/i18n.html#to_utc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.i18n.to_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#lib.webapp2_extras.i18n.I18n.to_utc" title="lib.webapp2_extras.i18n.I18n.to_utc"><tt class="xref py py-meth docutils literal"><span class="pre">I18n.to_utc()</span></tt></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.jinja2">
<span id="jinja2-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">jinja2</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.jinja2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-jinja2">
<h3>webapp2_extras.jinja2<a class="headerlink" href="#webapp2-extras-jinja2" title="Permalink to this headline">¶</a></h3>
<p>Jinja2 template support for webapp2.</p>
<p>Learn more about Jinja2: <a class="reference external" href="http://jinja.pocoo.org/">http://jinja.pocoo.org/</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.jinja2.Jinja2">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.jinja2.</tt><tt class="descname">Jinja2</tt><big>(</big><em>app</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/jinja2.html#Jinja2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.jinja2.Jinja2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wrapper for configurable and cached Jinja2 environment.</p>
<p>To used it, set it as a cached property in a base <cite>RequestHandler</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">webapp2</span>

<span class="kn">from</span> <span class="nn">webapp2_extras</span> <span class="kn">import</span> <span class="n">jinja2</span>

<span class="k">class</span> <span class="nc">BaseHandler</span><span class="p">(</span><span class="n">webapp2</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>

    <span class="nd">@webapp2.cached_property</span>
    <span class="k">def</span> <span class="nf">jinja2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Returns a Jinja2 renderer cached in the app registry.</span>
        <span class="k">return</span> <span class="n">jinja2</span><span class="o">.</span><span class="n">get_jinja2</span><span class="p">(</span><span class="n">app</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">app</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_template</span><span class="p">,</span> <span class="o">**</span><span class="n">context</span><span class="p">):</span>
        <span class="c"># Renders a template and writes the result to the response.</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jinja2</span><span class="o">.</span><span class="n">render_template</span><span class="p">(</span><span class="n">_template</span><span class="p">,</span> <span class="o">**</span><span class="n">context</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rv</span><span class="p">)</span>
</pre></div>
</div>
<p>Then extended handlers can render templates directly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyHandler</span><span class="p">(</span><span class="n">BaseHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="s">&#39;Hello, world!&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render_response</span><span class="p">(</span><span class="s">&#39;my_template.html&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="lib.webapp2_extras.jinja2.Jinja2.config">
<tt class="descname">config</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.jinja2.Jinja2.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Loaded configuration.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.jinja2.Jinja2.config_key">
<tt class="descname">config_key</tt><em class="property"> = 'lib.webapp2_extras.jinja2'</em><a class="headerlink" href="#lib.webapp2_extras.jinja2.Jinja2.config_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration key.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.jinja2.Jinja2.get_template_attribute">
<tt class="descname">get_template_attribute</tt><big>(</big><em>filename</em>, <em>attribute</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/jinja2.html#Jinja2.get_template_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.jinja2.Jinja2.get_template_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a macro (or variable) a template exports.  This can be used to
invoke a macro from within Python code.  If you for example have a
template named <cite>_foo.html</cite> with the following contents:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">hello</span><span class="o">(</span><span class="nv">name</span><span class="o">)</span> <span class="cp">%}</span>Hello <span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span>!<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>You can access this from Python code like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hello</span> <span class="o">=</span> <span class="n">get_template_attribute</span><span class="p">(</span><span class="s">&#39;_foo.html&#39;</span><span class="p">,</span> <span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">return</span> <span class="n">hello</span><span class="p">(</span><span class="s">&#39;World&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This function comes from <cite>Flask</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; The template filename.</li>
<li><strong>attribute</strong> &#8211; The name of the variable of macro to acccess.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.jinja2.Jinja2.render_template">
<tt class="descname">render_template</tt><big>(</big><em>_filename</em>, <em>**context</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/jinja2.html#Jinja2.render_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.jinja2.Jinja2.render_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template and returns a response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>_filename</strong> &#8211; The template filename, related to the templates directory.</li>
<li><strong>context</strong> &#8211; Keyword arguments used as variables in the rendered template.
These will override values set in the request context.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A rendered template.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.jinja2.default_config">
<tt class="descclassname">lib.webapp2_extras.jinja2.</tt><tt class="descname">default_config</tt><em class="property"> = {'template_path': 'templates', 'force_compiled': False, 'globals': None, 'filters': None, 'environment_args': {'autoescape': True, 'extensions': ['jinja2.ext.autoescape', 'jinja2.ext.with_']}, 'compiled_path': None}</em><a class="headerlink" href="#lib.webapp2_extras.jinja2.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default configuration values for this module. Keys are:</p>
<dl class="docutils">
<dt>template_path</dt>
<dd>Directory for templates. Default is <cite>templates</cite>.</dd>
<dt>compiled_path</dt>
<dd>Target for compiled templates. If set, uses the loader for compiled
templates in production. If it ends with a &#8216;.zip&#8217; it will be treated
as a zip file. Default is None.</dd>
<dt>force_compiled</dt>
<dd>Forces the use of compiled templates even in the development server.</dd>
<dt>environment_args</dt>
<dd>Keyword arguments used to instantiate the Jinja2 environment. By
default autoescaping is enabled and two extensions are set:
<tt class="docutils literal"><span class="pre">jinja2.ext.autoescape</span></tt> and <tt class="docutils literal"><span class="pre">jinja2.ext.with_</span></tt>. For production it
may be a good idea to set &#8216;auto_reload&#8217; to False &#8211; we don&#8217;t need to
check if templates changed after deployed.</dd>
<dt>globals</dt>
<dd>Extra global variables for the Jinja2 environment.</dd>
<dt>filters</dt>
<dd>Extra filters for the Jinja2 environment.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.jinja2.get_jinja2">
<tt class="descclassname">lib.webapp2_extras.jinja2.</tt><tt class="descname">get_jinja2</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.jinja2.Jinja2'&gt;</em>, <em>key='webapp2_extras.jinja2.Jinja2'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/jinja2.html#get_jinja2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.jinja2.get_jinja2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.jinja2.Jinja2" title="lib.webapp2_extras.jinja2.Jinja2"><tt class="xref py py-class docutils literal"><span class="pre">Jinja2</span></tt></a> from the app registry.</p>
<p>It&#8217;ll try to get it from the current app registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.jinja2.Jinja2" title="lib.webapp2_extras.jinja2.Jinja2"><tt class="xref py py-class docutils literal"><span class="pre">Jinja2</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>app</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to store the instance.
The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.jinja2.set_jinja2">
<tt class="descclassname">lib.webapp2_extras.jinja2.</tt><tt class="descname">set_jinja2</tt><big>(</big><em>jinja2</em>, <em>key='webapp2_extras.jinja2.Jinja2'</em>, <em>app=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/jinja2.html#set_jinja2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.jinja2.set_jinja2" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.jinja2.Jinja2" title="lib.webapp2_extras.jinja2.Jinja2"><tt class="xref py py-class docutils literal"><span class="pre">Jinja2</span></tt></a> in the app registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.jinja2.Jinja2" title="lib.webapp2_extras.jinja2.Jinja2"><tt class="xref py py-class docutils literal"><span class="pre">Jinja2</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.WSGIApplication" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.WSGIApplication</span></tt></a> instance used to retrieve the
instance. The active app is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.json">
<span id="json-module"></span><h2><a class="reference external" href="http://docs.python.org/2.7/library/json.html#json" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">json</span></tt></a> Module<a class="headerlink" href="#module-lib.webapp2_extras.json" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-json">
<h3>webapp2_extras.json<a class="headerlink" href="#webapp2-extras-json" title="Permalink to this headline">¶</a></h3>
<p>JSON helpers for webapp2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="lib.webapp2_extras.json.b64decode">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">b64decode</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#b64decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.b64decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes a value using base64 and deserializes it from JSON.</p>
<p>Parameters and return value are the same from <a class="reference internal" href="#lib.webapp2_extras.json.decode" title="lib.webapp2_extras.json.decode"><tt class="xref py py-func docutils literal"><span class="pre">decode()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.json.b64encode">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">b64encode</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#b64encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.b64encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes a value to JSON and encodes it using base64.</p>
<p>Parameters and return value are the same from <a class="reference internal" href="#lib.webapp2_extras.json.encode" title="lib.webapp2_extras.json.encode"><tt class="xref py py-func docutils literal"><span class="pre">encode()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.json.decode">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">decode</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes a value from JSON.</p>
<p>This comes from <a href="#id2"><span class="problematic" id="id3">`Tornado`_</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> &#8211; A value to be deserialized.</li>
<li><strong>args</strong> &#8211; Extra arguments to be passed to <cite>json.loads()</cite>.</li>
<li><strong>kwargs</strong> &#8211; Extra keyword arguments to be passed to <cite>json.loads()</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The deserialized value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.json.encode">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">encode</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes a value to JSON.</p>
<p>This comes from <a href="#id4"><span class="problematic" id="id5">`Tornado`_</span></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>value</strong> &#8211; A value to be serialized.</li>
<li><strong>args</strong> &#8211; Extra arguments to be passed to <cite>json.dumps()</cite>.</li>
<li><strong>kwargs</strong> &#8211; Extra keyword arguments to be passed to <cite>json.dumps()</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The serialized value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.json.quote">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">quote</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#quote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.quote" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes a value to JSON and encodes it using urllib.quote.</p>
<p>Parameters and return value are the same from <a class="reference internal" href="#lib.webapp2_extras.json.encode" title="lib.webapp2_extras.json.encode"><tt class="xref py py-func docutils literal"><span class="pre">encode()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.json.unquote">
<tt class="descclassname">lib.webapp2_extras.json.</tt><tt class="descname">unquote</tt><big>(</big><em>value</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/json.html#unquote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.json.unquote" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes a value using urllib.unquote and deserializes it from JSON.</p>
<p>Parameters and return value are the same from <a class="reference internal" href="#lib.webapp2_extras.json.decode" title="lib.webapp2_extras.json.decode"><tt class="xref py py-func docutils literal"><span class="pre">decode()</span></tt></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.local">
<span id="local-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">local</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.local" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-local">
<h3>webapp2_extras.local<a class="headerlink" href="#webapp2-extras-local" title="Permalink to this headline">¶</a></h3>
<p>This module implements thread-local utilities.</p>
<p>This implementation comes from werkzeug.local.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2010 by the Werkzeug Team, see AUTHORS for more details.</li>
</ol>
</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body"><p class="first last">BSD, see LICENSE for more details.</p>
</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.local.Local">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.local.</tt><tt class="descname">Local</tt><a class="reference internal" href="_modules/lib/webapp2_extras/local.html#Local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.local.Local" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A container for thread-local objects.</p>
<p>Attributes are assigned or retrieved using the current thread.</p>
</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.local.LocalProxy">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.local.</tt><tt class="descname">LocalProxy</tt><big>(</big><em>local</em>, <em>name=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/local.html#LocalProxy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.local.LocalProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Acts as a proxy for a local object.</p>
<p>Forwards all operations to a proxied object. The only operations not
supported for forwarding are right handed operands and any kind of
assignment.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">webapp2_extras</span> <span class="kn">import</span> <span class="n">Local</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">Local</span><span class="p">()</span>

<span class="c"># these are proxies</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">l</span><span class="p">(</span><span class="s">&#39;request&#39;</span><span class="p">)</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">l</span><span class="p">(</span><span class="s">&#39;user&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Whenever something is bound to l.user or l.request the proxy objects
will forward all operations. If no object is bound a <tt class="xref py py-exc docutils literal"><span class="pre">RuntimeError</span></tt>
will be raised.</p>
<p>To create proxies to <a class="reference internal" href="#lib.webapp2_extras.local.Local" title="lib.webapp2_extras.local.Local"><tt class="xref py py-class docutils literal"><span class="pre">Local</span></tt></a> object, call the object as shown above.
If you want to have a proxy to an object looked up by a function, you can
pass a function to the <a class="reference internal" href="#lib.webapp2_extras.local.LocalProxy" title="lib.webapp2_extras.local.LocalProxy"><tt class="xref py py-class docutils literal"><span class="pre">LocalProxy</span></tt></a> constructor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">route_kwargs</span> <span class="o">=</span> <span class="n">LocalProxy</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">webapp2</span><span class="o">.</span><span class="n">get_request</span><span class="p">()</span><span class="o">.</span><span class="n">route_kwargs</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.local.get_ident">
<tt class="descclassname">lib.webapp2_extras.local.</tt><tt class="descname">get_ident</tt><big>(</big><big>)</big><a class="headerlink" href="#lib.webapp2_extras.local.get_ident" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.local_app">
<span id="local-app-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">local_app</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.local_app" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-local-app">
<h3>webapp2_extras.local_app<a class="headerlink" href="#webapp2-extras-local-app" title="Permalink to this headline">¶</a></h3>
<p>This module is deprecated. The functionality is now available
directly in webapp2.</p>
<p>Previously it implemented a WSGIApplication adapted for threaded
environments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="module-lib.webapp2_extras.protorpc">
<span id="protorpc-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">protorpc</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.protorpc" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-protorpc">
<h3>webapp2_extras.protorpc<a class="headerlink" href="#webapp2-extras-protorpc" title="Permalink to this headline">¶</a></h3>
<p>Support for Google ProtoRPC library in webapp2.</p>
<p>Ported from protorpc.service_handlers.</p>
<p>See: <a class="reference external" href="http://code.google.com/p/google-protorpc/">http://code.google.com/p/google-protorpc/</a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an experimental package, as the ProtoRPC API is not stable yet.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2010 Google Inc.</td>
</tr>
<tr class="field-even field"><th class="field-name">copyright:</th><td class="field-body">2011 tipfy.org.</td>
</tr>
<tr class="field-odd field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.protorpc.ServiceHandler">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.protorpc.</tt><tt class="descname">ServiceHandler</tt><big>(</big><em>factory</em>, <em>service</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#ServiceHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.ServiceHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">protorpc.webapp.service_handlers.ServiceHandler</span></tt></p>
<dl class="method">
<dt id="lib.webapp2_extras.protorpc.ServiceHandler.dispatch">
<tt class="descname">dispatch</tt><big>(</big><em>factory</em>, <em>service</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#ServiceHandler.dispatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.ServiceHandler.dispatch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.protorpc.ServiceHandlerFactory">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.protorpc.</tt><tt class="descname">ServiceHandlerFactory</tt><big>(</big><em>service_factory</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#ServiceHandlerFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.ServiceHandlerFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">protorpc.webapp.service_handlers.ServiceHandlerFactory</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.protorpc.get_app">
<tt class="descclassname">lib.webapp2_extras.protorpc.</tt><tt class="descname">get_app</tt><big>(</big><em>services</em>, <em>registry_path='/protorpc'</em>, <em>debug=False</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#get_app"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.get_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a WSGI application configured for the given services.</p>
<p>Parameters are the same as <a class="reference internal" href="#lib.webapp2_extras.protorpc.service_mapping" title="lib.webapp2_extras.protorpc.service_mapping"><tt class="xref py py-func docutils literal"><span class="pre">service_mapping()</span></tt></a>, plus:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>debug</strong> &#8211; WSGI application debug flag: True to enable debug mode.</li>
<li><strong>config</strong> &#8211; WSGI application configuration dictionary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.protorpc.run_services">
<tt class="descclassname">lib.webapp2_extras.protorpc.</tt><tt class="descname">run_services</tt><big>(</big><em>services</em>, <em>registry_path='/protorpc'</em>, <em>debug=False</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#run_services"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.run_services" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle CGI request using service mapping.</p>
<p>Parameters are the same as <a class="reference internal" href="#lib.webapp2_extras.protorpc.get_app" title="lib.webapp2_extras.protorpc.get_app"><tt class="xref py py-func docutils literal"><span class="pre">get_app()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.protorpc.service_mapping">
<tt class="descclassname">lib.webapp2_extras.protorpc.</tt><tt class="descname">service_mapping</tt><big>(</big><em>services</em>, <em>registry_path='/protorpc'</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/protorpc.html#service_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.protorpc.service_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a services mapping for use with webapp2.</p>
<p>Creates basic default configuration and registration for ProtoRPC services.
Each service listed in the service mapping has a standard service handler
factory created for it.</p>
<p>The list of mappings can either be an explicit path to service mapping or
just services.  If mappings are just services, they will automatically
be mapped to their default name.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">protorpc</span> <span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span> <span class="nn">protorpc</span> <span class="kn">import</span> <span class="n">remote</span>

<span class="kn">import</span> <span class="nn">webapp2</span>
<span class="kn">from</span> <span class="nn">webapp2_extras</span> <span class="kn">import</span> <span class="n">protorpc</span>

<span class="k">class</span> <span class="nc">HelloRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">my_name</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">StringField</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">HelloResponse</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">Message</span><span class="p">):</span>
    <span class="n">hello</span> <span class="o">=</span> <span class="n">messages</span><span class="o">.</span><span class="n">StringField</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">required</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">HelloService</span><span class="p">(</span><span class="n">remote</span><span class="o">.</span><span class="n">Service</span><span class="p">):</span>
    <span class="nd">@remote.method</span><span class="p">(</span><span class="n">HelloRequest</span><span class="p">,</span> <span class="n">HelloResponse</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">HelloResponse</span><span class="p">(</span><span class="n">hello</span><span class="o">=</span><span class="s">&#39;Hello there, </span><span class="si">%s</span><span class="s">!&#39;</span> <span class="o">%</span>
                             <span class="n">request</span><span class="o">.</span><span class="n">my_name</span><span class="p">)</span>

<span class="n">service_mappings</span> <span class="o">=</span> <span class="n">protorpc</span><span class="o">.</span><span class="n">service_mapping</span><span class="p">([</span>
    <span class="p">(</span><span class="s">&#39;/hello&#39;</span><span class="p">,</span> <span class="n">HelloService</span><span class="p">),</span>
<span class="p">])</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">webapp2</span><span class="o">.</span><span class="n">WSGIApplication</span><span class="p">(</span><span class="n">routes</span><span class="o">=</span><span class="n">service_mappings</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Specifying a service mapping:</p>
<p>Normally services are mapped to URL paths by specifying a tuple
(path, service):</p>
<ul class="simple">
<li>path: The path the service resides on.</li>
<li>service: The service class or service factory for creating new instances
of the service.  For more information about service factories, please
see remote.Service.new_factory.</li>
</ul>
<p>If no tuple is provided, and therefore no path specified, a default path
is calculated by using the fully qualified service name using a URL path
separator for each of its components instead of a &#8216;.&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>services</strong> &#8211; <blockquote>
<div>Can be service type, service factory or string definition name of
service being mapped or list of tuples (path, service):<ul>
<li>path: Path on server to map service to.</li>
<li>service: Service type, service factory or string definition name of
service being mapped.</li>
</ul>
</div></blockquote>
<p>Can also be a dict.  If so, the keys are treated as the path and values
as the service.</p>
</li>
<li><strong>registry_path</strong> &#8211; Path to give to registry service. Use None to disable registry service.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of tuples defining a mapping of request handlers compatible with a
webapp2 application.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">ServiceConfigurationError when duplicate paths are provided.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.routes">
<span id="routes-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">routes</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.routes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-routes">
<h3>webapp2_extras.routes<a class="headerlink" href="#webapp2-extras-routes" title="Permalink to this headline">¶</a></h3>
<p>Extra route classes for webapp2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.routes.DomainRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">DomainRoute</tt><big>(</big><em>template</em>, <em>routes</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#DomainRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.DomainRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.routes.MultiRoute" title="lib.webapp2_extras.routes.MultiRoute"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.routes.MultiRoute</span></tt></a></p>
<p>A route used to restrict route matches to a given domain or subdomain.</p>
<p>For example, to restrict routes to a subdomain of the appspot domain:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="n">DomainRoute</span><span class="p">(</span><span class="s">&#39;&lt;subdomain&gt;.app-id.appspot.com&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/foo&#39;</span><span class="p">,</span> <span class="s">&#39;FooHandler&#39;</span><span class="p">,</span> <span class="s">&#39;subdomain-thing&#39;</span><span class="p">),</span>
    <span class="p">]),</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/bar&#39;</span><span class="p">,</span> <span class="s">&#39;BarHandler&#39;</span><span class="p">,</span> <span class="s">&#39;normal-thing&#39;</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The template follows the same syntax used by <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Route" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Route</span></tt></a> and
must define named groups if any value must be added to the match results.
In the example above, an extra <cite>subdomain</cite> keyword is passed to the
handler, but if the regex didn&#8217;t define any named groups, nothing would
be added.</p>
<dl class="method">
<dt id="lib.webapp2_extras.routes.DomainRoute.get_match_routes">
<tt class="descname">get_match_routes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#DomainRoute.get_match_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.DomainRoute.get_match_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.DomainRoute.match">
<tt class="descname">match</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#DomainRoute.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.DomainRoute.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.routes.DomainRoute.regex">
<tt class="descname">regex</tt><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#DomainRoute.regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.DomainRoute.regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.routes.HandlerPrefixRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">HandlerPrefixRoute</tt><big>(</big><em>prefix</em>, <em>routes</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#HandlerPrefixRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.HandlerPrefixRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.routes.NamePrefixRoute" title="lib.webapp2_extras.routes.NamePrefixRoute"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.routes.NamePrefixRoute</span></tt></a></p>
<p>Same as <a class="reference internal" href="#lib.webapp2_extras.routes.NamePrefixRoute" title="lib.webapp2_extras.routes.NamePrefixRoute"><tt class="xref py py-class docutils literal"><span class="pre">NamePrefixRoute</span></tt></a>, but prefixes the route handler.</p>
</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.routes.MultiRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">MultiRoute</tt><big>(</big><em>routes</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#MultiRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for routes with nested routes.</p>
<dl class="attribute">
<dt id="lib.webapp2_extras.routes.MultiRoute.build_children">
<tt class="descname">build_children</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.build_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.routes.MultiRoute.children">
<tt class="descname">children</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_build_children">
<tt class="descname">get_build_children</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#MultiRoute.get_build_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_build_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_build_routes">
<tt class="descname">get_build_routes</tt><big>(</big><big>)</big><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_build_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_children">
<tt class="descname">get_children</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#MultiRoute.get_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_match_children">
<tt class="descname">get_match_children</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#MultiRoute.get_match_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_match_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_match_routes">
<tt class="descname">get_match_routes</tt><big>(</big><big>)</big><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_match_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.MultiRoute.get_routes">
<tt class="descname">get_routes</tt><big>(</big><big>)</big><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.get_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.routes.MultiRoute.match_children">
<tt class="descname">match_children</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.match_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.routes.MultiRoute.routes">
<tt class="descname">routes</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.routes.MultiRoute.routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.routes.NamePrefixRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">NamePrefixRoute</tt><big>(</big><em>prefix</em>, <em>routes</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#NamePrefixRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.NamePrefixRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.routes.MultiRoute" title="lib.webapp2_extras.routes.MultiRoute"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.routes.MultiRoute</span></tt></a></p>
<p>The idea of this route is to set a base name for other routes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="n">NamePrefixRoute</span><span class="p">(</span><span class="s">&#39;user-&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/&#39;</span><span class="p">,</span> <span class="n">UserOverviewHandler</span><span class="p">,</span> <span class="s">&#39;overview&#39;</span><span class="p">),</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/profile&#39;</span><span class="p">,</span> <span class="n">UserProfileHandler</span><span class="p">,</span>
              <span class="s">&#39;profile&#39;</span><span class="p">),</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/projects&#39;</span><span class="p">,</span> <span class="n">UserProjectsHandler</span><span class="p">,</span>
              <span class="s">&#39;projects&#39;</span><span class="p">),</span>
    <span class="p">]),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The example above is the same as setting the following routes, just more
convenient as you can reuse the name prefix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/&#39;</span><span class="p">,</span> <span class="n">UserOverviewHandler</span><span class="p">,</span> <span class="s">&#39;user-overview&#39;</span><span class="p">),</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/profile&#39;</span><span class="p">,</span> <span class="n">UserProfileHandler</span><span class="p">,</span>
          <span class="s">&#39;user-profile&#39;</span><span class="p">),</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/projects&#39;</span><span class="p">,</span> <span class="n">UserProjectsHandler</span><span class="p">,</span>
          <span class="s">&#39;user-projects&#39;</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.routes.PathPrefixRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">PathPrefixRoute</tt><big>(</big><em>prefix</em>, <em>routes</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#PathPrefixRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.PathPrefixRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.routes.NamePrefixRoute" title="lib.webapp2_extras.routes.NamePrefixRoute"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.routes.NamePrefixRoute</span></tt></a></p>
<p>Same as <a class="reference internal" href="#lib.webapp2_extras.routes.NamePrefixRoute" title="lib.webapp2_extras.routes.NamePrefixRoute"><tt class="xref py py-class docutils literal"><span class="pre">NamePrefixRoute</span></tt></a>, but prefixes the route path.</p>
<p>For example, imagine we have these routes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/&#39;</span><span class="p">,</span> <span class="n">UserOverviewHandler</span><span class="p">,</span>
          <span class="s">&#39;user-overview&#39;</span><span class="p">),</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/profile&#39;</span><span class="p">,</span> <span class="n">UserProfileHandler</span><span class="p">,</span>
          <span class="s">&#39;user-profile&#39;</span><span class="p">),</span>
    <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;/projects&#39;</span><span class="p">,</span> <span class="n">UserProjectsHandler</span><span class="p">,</span>
          <span class="s">&#39;user-projects&#39;</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>We could refactor them to reuse the common path prefix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="n">PathPrefixRoute</span><span class="p">(</span><span class="s">&#39;/users/&lt;user:\w+&gt;&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="n">UserOverviewHandler</span><span class="p">,</span> <span class="s">&#39;user-overview&#39;</span><span class="p">),</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/profile&#39;</span><span class="p">,</span> <span class="n">UserProfileHandler</span><span class="p">,</span> <span class="s">&#39;user-profile&#39;</span><span class="p">),</span>
        <span class="n">Route</span><span class="p">(</span><span class="s">&#39;/projects&#39;</span><span class="p">,</span> <span class="n">UserProjectsHandler</span><span class="p">,</span> <span class="s">&#39;user-projects&#39;</span><span class="p">),</span>
    <span class="p">]),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>This is not only convenient, but also performs better: the nested routes
will only be tested if the path prefix matches.</p>
<dl class="method">
<dt id="lib.webapp2_extras.routes.PathPrefixRoute.get_match_routes">
<tt class="descname">get_match_routes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#PathPrefixRoute.get_match_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.PathPrefixRoute.get_match_routes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.routes.PathPrefixRoute.match">
<tt class="descname">match</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#PathPrefixRoute.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.PathPrefixRoute.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.routes.PathPrefixRoute.regex">
<tt class="descname">regex</tt><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#PathPrefixRoute.regex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.PathPrefixRoute.regex" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.routes.RedirectRoute">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.routes.</tt><tt class="descname">RedirectRoute</tt><big>(</big><em>template</em>, <em>handler=None</em>, <em>name=None</em>, <em>defaults=None</em>, <em>build_only=False</em>, <em>handler_method=None</em>, <em>methods=None</em>, <em>schemes=None</em>, <em>redirect_to=None</em>, <em>redirect_to_name=None</em>, <em>strict_slash=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#RedirectRoute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.RedirectRoute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Route" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Route</span></tt></a></p>
<p>A convenience route class for easy redirects.</p>
<p>It adds redirect_to, redirect_to_name and strict_slash options to
<a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Route" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Route</span></tt></a>.</p>
<dl class="method">
<dt id="lib.webapp2_extras.routes.RedirectRoute.get_match_routes">
<tt class="descname">get_match_routes</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/routes.html#RedirectRoute.get_match_routes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.routes.RedirectRoute.get_match_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator to get all routes that can be matched from a route.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yields :</th><td class="field-body">This route or all nested routes that can be matched.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.securecookie">
<span id="securecookie-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">securecookie</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.securecookie" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-securecookie">
<h3>webapp2_extras.securecookie<a class="headerlink" href="#webapp2-extras-securecookie" title="Permalink to this headline">¶</a></h3>
<p>A serializer for signed cookies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.securecookie.SecureCookieSerializer">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.securecookie.</tt><tt class="descname">SecureCookieSerializer</tt><big>(</big><em>secret_key</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/securecookie.html#SecureCookieSerializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.securecookie.SecureCookieSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Serializes and deserializes secure cookie values.</p>
<p>Extracted from <a href="#id6"><span class="problematic" id="id7">`Tornado`_</span></a> and modified.</p>
<dl class="method">
<dt id="lib.webapp2_extras.securecookie.SecureCookieSerializer.deserialize">
<tt class="descname">deserialize</tt><big>(</big><em>name</em>, <em>value</em>, <em>max_age=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/securecookie.html#SecureCookieSerializer.deserialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.securecookie.SecureCookieSerializer.deserialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserializes a signed cookie value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Cookie name.</li>
<li><strong>value</strong> &#8211; A cookie value to be deserialized.</li>
<li><strong>max_age</strong> &#8211; Maximum age in seconds for a valid cookie. If the cookie is older
than this, returns None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The deserialized secure cookie, or None if it is not valid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.securecookie.SecureCookieSerializer.serialize">
<tt class="descname">serialize</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/securecookie.html#SecureCookieSerializer.serialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.securecookie.SecureCookieSerializer.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes a signed cookie value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Cookie name.</li>
<li><strong>value</strong> &#8211; Cookie value to be serialized.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A serialized value ready to be stored in a cookie.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.security">
<span id="security-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">security</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.security" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-security">
<h3>webapp2_extras.security<a class="headerlink" href="#webapp2-extras-security" title="Permalink to this headline">¶</a></h3>
<p>Security related helpers such as secure password hashing tools and a
random token generator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2010 by the Werkzeug Team, see AUTHORS for more details.</li>
</ol>
</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body"><p class="first">BSD, see LICENSE for more details.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body"><ol class="first loweralpha simple" start="3">
<li>2011 Yesudeep Mangalapilly &lt;<a class="reference external" href="mailto:yesudeep&#37;&#52;&#48;gmail&#46;com">yesudeep<span>&#64;</span>gmail<span>&#46;</span>com</a>&gt;</li>
</ol>
</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body"><p class="first last">Apache Sotware License, see LICENSE for details.</p>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="lib.webapp2_extras.security.check_password_hash">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">check_password_hash</tt><big>(</big><em>password</em>, <em>pwhash</em>, <em>pepper=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/security.html#check_password_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.security.check_password_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks a password against a given salted and hashed password value.</p>
<p>In order to support unsalted legacy passwords this method supports
plain text passwords, md5 and sha1 hashes (both salted and unsalted).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>password</strong> &#8211; The plaintext password to compare against the hash.</li>
<li><strong>pwhash</strong> &#8211; A hashed string like returned by <a class="reference internal" href="#lib.webapp2_extras.security.generate_password_hash" title="lib.webapp2_extras.security.generate_password_hash"><tt class="xref py py-func docutils literal"><span class="pre">generate_password_hash()</span></tt></a>.</li>
<li><strong>pepper</strong> &#8211; A secret constant stored in the application code.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><cite>True</cite> if the password matched, <cite>False</cite> otherwise.</p>
</td>
</tr>
</tbody>
</table>
<p>This function was ported and adapted from <a href="#id8"><span class="problematic" id="id9">`Werkzeug`_</span></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.compare_hashes">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">compare_hashes</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/security.html#compare_hashes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.security.compare_hashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if two hash strings are identical.</p>
<p>The intention is to make the running time be less dependant on the size of
the string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> &#8211; String 1.</li>
<li><strong>b</strong> &#8211; String 2.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if both strings are equal, False otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.create_password_hash">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">create_password_hash</tt><big>(</big><em>password</em>, <em>method='sha1'</em>, <em>length=22</em>, <em>pepper=None</em><big>)</big><a class="headerlink" href="#lib.webapp2_extras.security.create_password_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Hashes a password.</p>
<p>The format of the string returned includes the method that was used
so that <a class="reference internal" href="#lib.webapp2_extras.security.check_password_hash" title="lib.webapp2_extras.security.check_password_hash"><tt class="xref py py-func docutils literal"><span class="pre">check_password_hash()</span></tt></a> can check the hash.</p>
<p>This method can <strong>not</strong> generate unsalted passwords but it is possible
to set the method to plain to enforce plaintext passwords. If a salt
is used, hmac is used internally to salt the password.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>password</strong> &#8211; The password to hash.</li>
<li><strong>method</strong> &#8211; The hash method to use (<tt class="docutils literal"><span class="pre">'md5'</span></tt> or <tt class="docutils literal"><span class="pre">'sha1'</span></tt>).</li>
<li><strong>length</strong> &#8211; Length of the salt to be created.</li>
<li><strong>pepper</strong> &#8211; A secret constant stored in the application code.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>A formatted hashed string that looks like this:</p>
<div class="highlight-python"><pre>method$salt$hash</pre>
</div>
</p>
</td>
</tr>
</tbody>
</table>
<p>This function was ported and adapted from <a href="#id10"><span class="problematic" id="id11">`Werkzeug`_</span></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.create_token">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">create_token</tt><big>(</big><em>length=None</em>, <em>entropy=None</em>, <em>pool='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</em><big>)</big><a class="headerlink" href="#lib.webapp2_extras.security.create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random string using the given sequence pool.</p>
<p>To generate stronger passwords, use ASCII_PRINTABLE as pool.</p>
<p>Entropy is:</p>
<blockquote>
<div>H = log2(N**L)</div></blockquote>
<p>where:</p>
<ul class="simple">
<li>H is the entropy in bits.</li>
<li>N is the possible symbol count</li>
<li>L is length of string of symbols</li>
</ul>
<p>Entropy chart:</p>
<div class="highlight-python"><pre>-----------------------------------------------------------------
Symbol set              Symbol Count (N)  Entropy per symbol (H)
-----------------------------------------------------------------
HEXADECIMAL_DIGITS      16                4.0000 bits
DIGITS                  10                3.3219 bits
LOWERCASE_ALPHA         26                4.7004 bits
UPPERCASE_ALPHA         26                4.7004 bits
PUNCTUATION             32                5.0000 bits
LOWERCASE_ALPHANUMERIC  36                5.1699 bits
UPPERCASE_ALPHANUMERIC  36                5.1699 bits
ALPHA                   52                5.7004 bits
ALPHANUMERIC            62                5.9542 bits
ASCII_PRINTABLE         94                6.5546 bits
ALL_PRINTABLE           100               6.6438 bits</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> &#8211; The length of the random sequence. Use this or <cite>entropy</cite>, not both.</li>
<li><strong>entropy</strong> &#8211; Desired entropy in bits. Use this or <cite>length</cite>, not both.
Use this to generate passwords based on entropy:
<a class="reference external" href="http://en.wikipedia.org/wiki/Password_strength">http://en.wikipedia.org/wiki/Password_strength</a></li>
<li><strong>pool</strong> &#8211; A sequence of characters from which random characters are chosen.
Default to case-sensitive alpha-numeric characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A string with characters randomly chosen from the pool.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.generate_password_hash">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">generate_password_hash</tt><big>(</big><em>password</em>, <em>method='sha1'</em>, <em>length=22</em>, <em>pepper=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/security.html#generate_password_hash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.security.generate_password_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Hashes a password.</p>
<p>The format of the string returned includes the method that was used
so that <a class="reference internal" href="#lib.webapp2_extras.security.check_password_hash" title="lib.webapp2_extras.security.check_password_hash"><tt class="xref py py-func docutils literal"><span class="pre">check_password_hash()</span></tt></a> can check the hash.</p>
<p>This method can <strong>not</strong> generate unsalted passwords but it is possible
to set the method to plain to enforce plaintext passwords. If a salt
is used, hmac is used internally to salt the password.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>password</strong> &#8211; The password to hash.</li>
<li><strong>method</strong> &#8211; The hash method to use (<tt class="docutils literal"><span class="pre">'md5'</span></tt> or <tt class="docutils literal"><span class="pre">'sha1'</span></tt>).</li>
<li><strong>length</strong> &#8211; Length of the salt to be created.</li>
<li><strong>pepper</strong> &#8211; A secret constant stored in the application code.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>A formatted hashed string that looks like this:</p>
<div class="highlight-python"><pre>method$salt$hash</pre>
</div>
</p>
</td>
</tr>
</tbody>
</table>
<p>This function was ported and adapted from <a href="#id12"><span class="problematic" id="id13">`Werkzeug`_</span></a>.</p>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.generate_random_string">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">generate_random_string</tt><big>(</big><em>length=None</em>, <em>entropy=None</em>, <em>pool='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/security.html#generate_random_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.security.generate_random_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random string using the given sequence pool.</p>
<p>To generate stronger passwords, use ASCII_PRINTABLE as pool.</p>
<p>Entropy is:</p>
<blockquote>
<div>H = log2(N**L)</div></blockquote>
<p>where:</p>
<ul class="simple">
<li>H is the entropy in bits.</li>
<li>N is the possible symbol count</li>
<li>L is length of string of symbols</li>
</ul>
<p>Entropy chart:</p>
<div class="highlight-python"><pre>-----------------------------------------------------------------
Symbol set              Symbol Count (N)  Entropy per symbol (H)
-----------------------------------------------------------------
HEXADECIMAL_DIGITS      16                4.0000 bits
DIGITS                  10                3.3219 bits
LOWERCASE_ALPHA         26                4.7004 bits
UPPERCASE_ALPHA         26                4.7004 bits
PUNCTUATION             32                5.0000 bits
LOWERCASE_ALPHANUMERIC  36                5.1699 bits
UPPERCASE_ALPHANUMERIC  36                5.1699 bits
ALPHA                   52                5.7004 bits
ALPHANUMERIC            62                5.9542 bits
ASCII_PRINTABLE         94                6.5546 bits
ALL_PRINTABLE           100               6.6438 bits</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>length</strong> &#8211; The length of the random sequence. Use this or <cite>entropy</cite>, not both.</li>
<li><strong>entropy</strong> &#8211; Desired entropy in bits. Use this or <cite>length</cite>, not both.
Use this to generate passwords based on entropy:
<a class="reference external" href="http://en.wikipedia.org/wiki/Password_strength">http://en.wikipedia.org/wiki/Password_strength</a></li>
<li><strong>pool</strong> &#8211; A sequence of characters from which random characters are chosen.
Default to case-sensitive alpha-numeric characters.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A string with characters randomly chosen from the pool.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.security.hash_password">
<tt class="descclassname">lib.webapp2_extras.security.</tt><tt class="descname">hash_password</tt><big>(</big><em>password</em>, <em>method</em>, <em>salt=None</em>, <em>pepper=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/security.html#hash_password"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.security.hash_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Hashes a password.</p>
<p>Supports plaintext without salt, unsalted and salted passwords. In case
salted passwords are used hmac is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>password</strong> &#8211; The password to be hashed.</li>
<li><strong>method</strong> &#8211; A method from <tt class="docutils literal"><span class="pre">hashlib</span></tt>, e.g., <cite>sha1</cite> or <cite>md5</cite>, or <cite>plain</cite>.</li>
<li><strong>salt</strong> &#8211; A random salt string.</li>
<li><strong>pepper</strong> &#8211; A secret constant stored in the application code.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A hashed password.</p>
</td>
</tr>
</tbody>
</table>
<p>This function was ported and adapted from <a href="#id14"><span class="problematic" id="id15">`Werkzeug`_</span></a>.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-lib.webapp2_extras.sessions">
<span id="sessions-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">sessions</span></tt> Module<a class="headerlink" href="#module-lib.webapp2_extras.sessions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="webapp2-extras-sessions">
<h3>webapp2_extras.sessions<a class="headerlink" href="#webapp2-extras-sessions" title="Permalink to this headline">¶</a></h3>
<p>Lightweight but flexible session support for webapp2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">copyright:</th><td class="field-body">2011 by tipfy.org.</td>
</tr>
<tr class="field-even field"><th class="field-name">license:</th><td class="field-body">Apache Sotware License, see LICENSE for details.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">BaseSessionFactory</tt><big>(</big><em>name</em>, <em>session_store</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#BaseSessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for all session factories.</p>
<dl class="method">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.get_session">
<tt class="descname">get_session</tt><big>(</big><em>max_age=&lt;object object at 0x10fa9a3f0&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#BaseSessionFactory.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.get_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the session.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.save_session">
<tt class="descname">save_session</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#BaseSessionFactory.save_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.save_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.session">
<tt class="descname">session</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.session" title="Permalink to this definition">¶</a></dt>
<dd><p>The session data, a <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionDict" title="lib.webapp2_extras.sessions.SessionDict"><tt class="xref py py-class docutils literal"><span class="pre">SessionDict</span></tt></a> instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.session_args">
<tt class="descname">session_args</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.session_args" title="Permalink to this definition">¶</a></dt>
<dd><p>Keyword arguments to save the session.</p>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.BaseSessionFactory.session_store">
<tt class="descname">session_store</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.sessions.BaseSessionFactory.session_store" title="Permalink to this definition">¶</a></dt>
<dd><p>A reference to <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore" title="lib.webapp2_extras.sessions.SessionStore"><tt class="xref py py-class docutils literal"><span class="pre">SessionStore</span></tt></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.sessions.CustomBackendSessionFactory">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">CustomBackendSessionFactory</tt><big>(</big><em>name</em>, <em>session_store</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#CustomBackendSessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.CustomBackendSessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.sessions.BaseSessionFactory" title="lib.webapp2_extras.sessions.BaseSessionFactory"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.sessions.BaseSessionFactory</span></tt></a></p>
<p>Base class for sessions that use custom backends, e.g., memcache.</p>
<dl class="method">
<dt id="lib.webapp2_extras.sessions.CustomBackendSessionFactory.get_session">
<tt class="descname">get_session</tt><big>(</big><em>max_age=&lt;object object at 0x10fa9a3f0&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#CustomBackendSessionFactory.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.CustomBackendSessionFactory.get_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.CustomBackendSessionFactory.sid">
<tt class="descname">sid</tt><em class="property"> = None</em><a class="headerlink" href="#lib.webapp2_extras.sessions.CustomBackendSessionFactory.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>The session unique id.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.sessions.SecureCookieSessionFactory">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">SecureCookieSessionFactory</tt><big>(</big><em>name</em>, <em>session_store</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SecureCookieSessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SecureCookieSessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#lib.webapp2_extras.sessions.BaseSessionFactory" title="lib.webapp2_extras.sessions.BaseSessionFactory"><tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.sessions.BaseSessionFactory</span></tt></a></p>
<p>A session factory that stores data serialized in a signed cookie.</p>
<p>Signed cookies can&#8217;t be forged because the HMAC signature won&#8217;t match.</p>
<p>This is the default factory passed as the <cite>factory</cite> keyword to
<a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore.get_session" title="lib.webapp2_extras.sessions.SessionStore.get_session"><tt class="xref py py-meth docutils literal"><span class="pre">SessionStore.get_session()</span></tt></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The values stored in a signed cookie will be visible in the cookie,
so do not use secure cookie sessions if you need to store data that
can&#8217;t be visible to users. For this, use datastore or memcache sessions.</p>
</div>
<dl class="method">
<dt id="lib.webapp2_extras.sessions.SecureCookieSessionFactory.get_session">
<tt class="descname">get_session</tt><big>(</big><em>max_age=&lt;object object at 0x10fa9a3f0&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SecureCookieSessionFactory.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SecureCookieSessionFactory.get_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SecureCookieSessionFactory.save_session">
<tt class="descname">save_session</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SecureCookieSessionFactory.save_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SecureCookieSessionFactory.save_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.sessions.SessionDict">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">SessionDict</tt><big>(</big><em>container</em>, <em>data=None</em>, <em>new=False</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">lib.webapp2_extras.sessions._UpdateDictMixin</span></tt>, <a class="reference external" href="http://docs.python.org/2.7/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>A dictionary for session data.</p>
<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionDict.add_flash">
<tt class="descname">add_flash</tt><big>(</big><em>value</em>, <em>level=None</em>, <em>key='_flash'</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionDict.add_flash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.add_flash" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a flash message. Flash messages are deleted when first read.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>value</strong> &#8211; Value to be saved in the flash message.</li>
<li><strong>level</strong> &#8211; An optional level to set with the message. Default is <cite>None</cite>.</li>
<li><strong>key</strong> &#8211; Name of the flash key stored in the session. Default is &#8216;_flash&#8217;.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.SessionDict.container">
<tt class="descname">container</tt><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.container" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionDict.get_flashes">
<tt class="descname">get_flashes</tt><big>(</big><em>key='_flash'</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionDict.get_flashes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.get_flashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a flash message. Flash messages are deleted when first read.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; Name of the flash key stored in the session. Default is &#8216;_flash&#8217;.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The data stored in the flash, or an empty list.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.SessionDict.modified">
<tt class="descname">modified</tt><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.modified" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.SessionDict.new">
<tt class="descname">new</tt><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionDict.on_update">
<tt class="descname">on_update</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionDict.on_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.on_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionDict.pop">
<tt class="descname">pop</tt><big>(</big><em>key</em>, <em>*args</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionDict.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionDict.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lib.webapp2_extras.sessions.SessionStore">
<em class="property">class </em><tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">SessionStore</tt><big>(</big><em>request</em>, <em>config=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A session provider for a single request.</p>
<p>The session store can provide multiple sessions using different keys,
even using different backends in the same request, through the method
<a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore.get_session" title="lib.webapp2_extras.sessions.SessionStore.get_session"><tt class="xref py py-meth docutils literal"><span class="pre">get_session()</span></tt></a>. By default it returns a session using the default key.</p>
<p>To use, define a base handler that extends the dispatch() method to start
the session store and save all sessions at the end of a request:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">webapp2</span>

<span class="kn">from</span> <span class="nn">webapp2_extras</span> <span class="kn">import</span> <span class="n">sessions</span>

<span class="k">class</span> <span class="nc">BaseHandler</span><span class="p">(</span><span class="n">webapp2</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Get a session store for this request.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">session_store</span> <span class="o">=</span> <span class="n">sessions</span><span class="o">.</span><span class="n">get_store</span><span class="p">(</span><span class="n">request</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="c"># Dispatch the request.</span>
            <span class="n">webapp2</span><span class="o">.</span><span class="n">RequestHandler</span><span class="o">.</span><span class="n">dispatch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c"># Save all sessions.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">session_store</span><span class="o">.</span><span class="n">save_sessions</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">response</span><span class="p">)</span>

    <span class="nd">@webapp2.cached_property</span>
    <span class="k">def</span> <span class="nf">session</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># Returns a session using the default cookie key.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">session_store</span><span class="o">.</span><span class="n">get_session</span><span class="p">()</span>
</pre></div>
</div>
<p>Then just use the session as a dictionary inside a handler:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># To set a value:</span>
<span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="p">[</span><span class="s">&#39;foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;bar&#39;</span>

<span class="c"># To get a value:</span>
<span class="n">foo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A configuration dict can be passed to <tt class="xref py py-meth docutils literal"><span class="pre">__init__()</span></tt>, or the application
must be initialized with the <tt class="docutils literal"><span class="pre">secret_key</span></tt> configuration defined. The
configuration is a simple dictionary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">config</span><span class="p">[</span><span class="s">&#39;webapp2_extras.sessions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;secret_key&#39;</span><span class="p">:</span> <span class="s">&#39;my-super-secret-key&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">webapp2</span><span class="o">.</span><span class="n">WSGIApplication</span><span class="p">([</span>
    <span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">,</span> <span class="n">HomeHandler</span><span class="p">),</span>
<span class="p">],</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
<p>Other configuration keys are optional.</p>
<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.SessionStore.config_key">
<tt class="descname">config_key</tt><em class="property"> = 'lib.webapp2_extras.sessions'</em><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.config_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration key.</p>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.get_backend">
<tt class="descname">get_backend</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.get_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a configured session backend, importing it if needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; The backend keyword.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A <a class="reference internal" href="#lib.webapp2_extras.sessions.BaseSessionFactory" title="lib.webapp2_extras.sessions.BaseSessionFactory"><tt class="xref py py-class docutils literal"><span class="pre">BaseSessionFactory</span></tt></a> subclass.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.get_secure_cookie">
<tt class="descname">get_secure_cookie</tt><big>(</big><em>name</em>, <em>max_age=&lt;object object at 0x10fa9a3f0&gt;</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.get_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.get_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a deserialized secure cookie value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Cookie name.</li>
<li><strong>max_age</strong> &#8211; Maximum age in seconds for a valid cookie. If the cookie is older
than this, returns None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A secure cookie value or None if it is not set.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.get_session">
<tt class="descname">get_session</tt><big>(</big><em>name=None</em>, <em>max_age=&lt;object object at 0x10fa9a3f0&gt;</em>, <em>factory=None</em>, <em>backend='securecookie'</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.get_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.get_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a session for a given name. If the session doesn&#8217;t exist, a
new session is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> &#8211; Cookie name. If not provided, uses the <tt class="docutils literal"><span class="pre">cookie_name</span></tt>
value configured for this module.</li>
<li><strong>max_age</strong> &#8211; A maximum age in seconds for the session to be valid. Sessions
store a timestamp to invalidate them if needed. If <cite>max_age</cite> is
None, the timestamp won&#8217;t be checked.</li>
<li><strong>factory</strong> &#8211; A session factory that creates the session using the preferred
backend. For convenience, use the <cite>backend</cite> argument instead,
which defines a backend keyword based on the configured ones.</li>
<li><strong>backend</strong> &#8211; <p>A configured backend keyword. Available ones are:</p>
<ul>
<li><tt class="docutils literal"><span class="pre">securecookie</span></tt>: uses secure cookies. This is the default
backend.</li>
<li><tt class="docutils literal"><span class="pre">datastore</span></tt>: uses App Engine&#8217;s datastore.</li>
<li><tt class="docutils literal"><span class="pre">memcache</span></tt>:  uses App Engine&#8217;s memcache.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary-like session object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.save_secure_cookie">
<tt class="descname">save_secure_cookie</tt><big>(</big><em>response</em>, <em>name</em>, <em>value</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.save_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.save_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.save_sessions">
<tt class="descname">save_sessions</tt><big>(</big><em>response</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.save_sessions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.save_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves all sessions in a response object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>response</strong> &#8211; A <tt class="xref py py-class docutils literal"><span class="pre">webapp.Response</span></tt> object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lib.webapp2_extras.sessions.SessionStore.serializer">
<tt class="descname">serializer</tt><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.serializer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.serializer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lib.webapp2_extras.sessions.SessionStore.set_secure_cookie">
<tt class="descname">set_secure_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#SessionStore.set_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.SessionStore.set_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a secure cookie to be saved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; Cookie name.</li>
<li><strong>value</strong> &#8211; Cookie value. Must be a dictionary.</li>
<li><strong>kwargs</strong> &#8211; Options to save the cookie. See <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore.get_session" title="lib.webapp2_extras.sessions.SessionStore.get_session"><tt class="xref py py-meth docutils literal"><span class="pre">get_session()</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="lib.webapp2_extras.sessions.default_config">
<tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">default_config</tt><em class="property"> = {'cookie_args': {'max_age': None, 'domain': None, 'secure': None, 'httponly': False, 'path': '/'}, 'secret_key': None, 'cookie_name': 'session', 'session_max_age': None, 'backends': {'datastore': 'webapp2_extras.appengine.sessions_ndb.DatastoreSessionFactory', 'memcache': 'webapp2_extras.appengine.sessions_memcache.MemcacheSessionFactory', 'securecookie': &lt;class 'lib.webapp2_extras.sessions.SecureCookieSessionFactory'&gt;}}</em><a class="headerlink" href="#lib.webapp2_extras.sessions.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default configuration values for this module. Keys are:</p>
<dl class="docutils">
<dt>secret_key</dt>
<dd>Secret key to generate session cookies. Set this to something random
and unguessable. This is the only required configuration key:
an exception is raised if it is not defined.</dd>
<dt>cookie_name</dt>
<dd>Name of the cookie to save a session or session id. Default is
<cite>session</cite>.</dd>
<dt>session_max_age:</dt>
<dd>Default session expiration time in seconds. Limits the duration of the
contents of a cookie, even if a session cookie exists. If None, the
contents lasts as long as the cookie is valid. Default is None.</dd>
<dt>cookie_args</dt>
<dd><p class="first">Default keyword arguments used to set a cookie. Keys are:</p>
<ul class="last simple">
<li>max_age: Cookie max age in seconds. Limits the duration
of a session cookie. If None, the cookie lasts until the client
is closed. Default is None.</li>
<li>domain: Domain of the cookie. To work accross subdomains the
domain must be set to the main domain with a preceding dot, e.g.,
cookies set for <cite>.mydomain.org</cite> will work in <cite>foo.mydomain.org</cite> and
<cite>bar.mydomain.org</cite>. Default is None, which means that cookies will
only work for the current subdomain.</li>
<li>path: Path in which the authentication cookie is valid.
Default is <cite>/</cite>.</li>
<li>secure: Make the cookie only available via HTTPS.</li>
<li>httponly: Disallow JavaScript to access the cookie.</li>
</ul>
</dd>
<dt>backends</dt>
<dd>A dictionary of available session backend classes used by
<a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore.get_session" title="lib.webapp2_extras.sessions.SessionStore.get_session"><tt class="xref py py-meth docutils literal"><span class="pre">SessionStore.get_session()</span></tt></a>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.sessions.get_store">
<tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">get_store</tt><big>(</big><em>factory=&lt;class 'lib.webapp2_extras.sessions.SessionStore'&gt;</em>, <em>key='webapp2_extras.sessions.SessionStore'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#get_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.get_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore" title="lib.webapp2_extras.sessions.SessionStore"><tt class="xref py py-class docutils literal"><span class="pre">SessionStore</span></tt></a> from the request registry.</p>
<p>It&#8217;ll try to get it from the current request registry, and if it is not
registered it&#8217;ll be instantiated and registered. A second call to this
function will return the same instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>factory</strong> &#8211; The callable used to build and register the instance if it is not yet
registered. The default is the class <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore" title="lib.webapp2_extras.sessions.SessionStore"><tt class="xref py py-class docutils literal"><span class="pre">SessionStore</span></tt></a> itself.</li>
<li><strong>key</strong> &#8211; The key used to store the instance in the registry. A default is used
if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to store the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="lib.webapp2_extras.sessions.set_store">
<tt class="descclassname">lib.webapp2_extras.sessions.</tt><tt class="descname">set_store</tt><big>(</big><em>store</em>, <em>key='webapp2_extras.sessions.SessionStore'</em>, <em>request=None</em><big>)</big><a class="reference internal" href="_modules/lib/webapp2_extras/sessions.html#set_store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lib.webapp2_extras.sessions.set_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an instance of <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore" title="lib.webapp2_extras.sessions.SessionStore"><tt class="xref py py-class docutils literal"><span class="pre">SessionStore</span></tt></a> in the request registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> &#8211; An instance of <a class="reference internal" href="#lib.webapp2_extras.sessions.SessionStore" title="lib.webapp2_extras.sessions.SessionStore"><tt class="xref py py-class docutils literal"><span class="pre">SessionStore</span></tt></a>.</li>
<li><strong>key</strong> &#8211; The key used to retrieve the instance from the registry. A default
is used if it is not set.</li>
<li><strong>request</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/api/webapp2.html#webapp2.Request" title="(in webapp2 v2.5.1)"><tt class="xref py py-class docutils literal"><span class="pre">webapp2.Request</span></tt></a> instance used to retrieve the instance. The
active request is used if it is not set.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/ampush-logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">webapp2_extras Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">webapp2_extras</span></tt> Package</a><ul>
<li><a class="reference internal" href="#webapp2-extras">webapp2_extras</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.auth"><tt class="docutils literal"><span class="pre">auth</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-auth">webapp2_extras.auth</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.config"><tt class="docutils literal"><span class="pre">config</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-config">webapp2_extras.config</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.i18n"><tt class="docutils literal"><span class="pre">i18n</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-i18n">webapp2_extras.i18n</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.jinja2"><tt class="docutils literal"><span class="pre">jinja2</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-jinja2">webapp2_extras.jinja2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.json"><tt class="docutils literal"><span class="pre">json</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-json">webapp2_extras.json</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.local"><tt class="docutils literal"><span class="pre">local</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-local">webapp2_extras.local</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.local_app"><tt class="docutils literal"><span class="pre">local_app</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-local-app">webapp2_extras.local_app</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.protorpc"><tt class="docutils literal"><span class="pre">protorpc</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-protorpc">webapp2_extras.protorpc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.routes"><tt class="docutils literal"><span class="pre">routes</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-routes">webapp2_extras.routes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.securecookie"><tt class="docutils literal"><span class="pre">securecookie</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-securecookie">webapp2_extras.securecookie</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.security"><tt class="docutils literal"><span class="pre">security</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-security">webapp2_extras.security</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-lib.webapp2_extras.sessions"><tt class="docutils literal"><span class="pre">sessions</span></tt> Module</a><ul>
<li><a class="reference internal" href="#webapp2-extras-sessions">webapp2_extras.sessions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lib.slimmer.html"
                        title="previous chapter">slimmer Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="main.html"
                        title="next chapter">main Module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/lib.webapp2_extras.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="main.html" title="main Module"
             >next</a> |</li>
        <li class="right" >
          <a href="lib.slimmer.html" title="slimmer Package"
             >previous</a> |</li>
        <li><a href="index.html">Hermes</a> &raquo;</li>
          <li><a href="lib.html" >lib Package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Ampush.
    </div>
  </body>
</html>